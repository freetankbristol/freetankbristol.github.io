$(document).ready(function(){function e(e){var l=e.find(".marker"),s={zoom:16,center:new google.maps.LatLng(0,0),scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!0,draggable:!0,streetViewControl:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"tehgrayz"]}};a=new google.maps.Map(e[0],s),a.markers=[],l.each(function(){t($(this),a)});var r=[{elementType:"geometry",stylers:[{color:"#e5e3df"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#b5c890"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#aad2d2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],n=new google.maps.StyledMapType(r,{name:"Grayscale"});return a.mapTypes.set("tehgrayz",n),a.setMapTypeId("tehgrayz"),o(a),a}function t(e,t){var o=new google.maps.LatLng(e.attr("data-lat"),e.attr("data-lng")),l={url:window.location.href+"/wp-content/themes/wp-bluefly-base/assets/images/map-marker.png",size:new google.maps.Size(35,54),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,54)},a=new google.maps.Marker({position:o,map:t,icon:l});if(t.markers.push(a),!e.is(":empty")){var s=new google.maps.InfoWindow({content:e.html()});google.maps.event.addListener(a,"click",function(){s.open(t,a)})}}function o(e){var t=new google.maps.LatLngBounds;$.each(e.markers,function(e,o){var l=new google.maps.LatLng(o.position.lat(),o.position.lng());t.extend(l)}),1==e.markers.length?(e.setCenter(t.getCenter()),e.setZoom(16)):e.fitBounds(t)}$(window).on("scroll",function(){var e=$(window).scrollTop(),t=e+$(window).height(),o=$(".slide-overlay h2").offset().top,l=o+$(".slide-overlay h2").height();e>0?$(".site-nav").addClass("active"):$(".site-nav").removeClass("active"),l<=t&&o>=e?$(".site-nav h1").removeClass("active"):$(".site-nav h1").addClass("active")}),$(".menu-button").on("click",function(e){e.preventDefault(),$(".site-nav-list").slideToggle()}),$(".section").last().addClass("last"),$(".next-section-link").on("click",function(e){e.preventDefault();var t=$(this);$("html, body").animate({scrollTop:t.closest(".section").next("section").offset().top},750)}),$(".slides").slick({fade:!0,dots:!0,dotsClass:"slide-nav",arrows:!1,speed:5e3,autoplay:!0}),$(".site-nav a").on("click",function(e){e.preventDefault();var t=$(this),o=0;$(".site-nav a").removeClass("active"),t.addClass("active"),$("body").hasClass("admin-bar")&&(o=32),$("html, body").animate({scrollTop:$(t.attr("href")).offset().top-($(".site-nav").outerHeight()+o)},750)});var l=$("#visit-map").length,a="";l&&($(".visit-map").each(function(){a=e($(this))}),google.maps.event.addDomListener(window,"resize",function(){o(a)}))});